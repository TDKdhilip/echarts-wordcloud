!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],e):"object"==typeof exports?exports["echarts-wordcloud"]=e(require("echarts")):t["echarts-wordcloud"]=e(t.echarts)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(25)},function(t,e){function n(t,e){"createCanvas"===t&&(J=null),K[t]=e}function r(t){if(null==t||"object"!=typeof t)return t;var e=t,n=U.call(t);if("[object Array]"===n){if(!P(t)){e=[];for(var i=0,a=t.length;i<a;i++)e[i]=r(t[i])}}else if(j[n]){if(!P(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(var i=0,a=t.length;i<a;i++)e[i]=r(t[i])}}}else if(!H[n]&&!P(t)&&!_(t)){e={};for(var u in t)t.hasOwnProperty(u)&&(e[u]=r(t[u]))}return e}function i(t,e,n){if(!S(e)||!S(t))return n?r(e):t;for(var a in e)if(e.hasOwnProperty(a)){var o=t[a],u=e[a];!S(u)||!S(o)||w(u)||w(o)||_(u)||_(o)||C(u)||C(o)||P(u)||P(o)?!n&&a in t||(t[a]=r(e[a],!0)):i(o,u,n)}return t}function a(t,e){for(var n=t[0],r=1,a=t.length;r<a;r++)n=i(n,t[r],e);return n}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function u(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}function s(){return J||(J=Z().getContext("2d")),J}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function c(t,e){function n(){}var r=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.prototype.constructor=t,t.superClass=e}function f(t,e,n){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,u(t,e,n)}function d(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function h(t,e,n){if(t&&e)if(t.forEach&&t.forEach===q)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(n,t[a],a,t)}function m(t,e,n){if(t&&e){if(t.map&&t.map===$)return t.map(e,n);for(var r=[],i=0,a=t.length;i<a;i++)r.push(e.call(n,t[i],i,t));return r}}function p(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===G)return t.reduce(e,n,r);for(var i=0,a=t.length;i<a;i++)n=e.call(r,n,t[i],i,t);return n}}function v(t,e,n){if(t&&e){if(t.filter&&t.filter===V)return t.filter(e,n);for(var r=[],i=0,a=t.length;i<a;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function g(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function y(t,e){var n=X.call(arguments,2);return function(){return t.apply(e,n.concat(X.call(arguments)))}}function x(t){var e=X.call(arguments,1);return function(){return t.apply(this,e.concat(X.call(arguments)))}}function w(t){return"[object Array]"===U.call(t)}function M(t){return"function"==typeof t}function b(t){return"[object String]"===U.call(t)}function S(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function C(t){return!!H[U.call(t)]}function I(t){return!!j[U.call(t)]}function _(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function T(t){return t!==t}function O(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function A(t,e){return null!=t?t:e}function E(t,e,n){return null!=t?t:null!=e?e:n}function N(){return Function.call.apply(X,arguments)}function R(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function D(t,e){if(!t)throw new Error(e)}function k(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function F(t){t[Q]=!0}function P(t){return t[Q]}function L(t){function e(t,e){n?r.set(t,e):r.set(e,t)}var n=w(t);this.data={};var r=this;t instanceof L?t.each(e):t&&h(t,e)}function W(t){return new L(t)}function B(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n}function z(){}var H={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},j={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},U=Object.prototype.toString,Y=Array.prototype,q=Y.forEach,V=Y.filter,X=Y.slice,$=Y.map,G=Y.reduce,K={},Z=function(){return K.createCanvas()};K.createCanvas=function(){return document.createElement("canvas")};var J,Q="__ec_primitive__";L.prototype={constructor:L,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){void 0!==e&&(t=y(t,e));for(var n in this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}},e.$override=n,e.clone=r,e.merge=i,e.mergeAll=a,e.extend=o,e.defaults=u,e.createCanvas=Z,e.getContext=s,e.indexOf=l,e.inherits=c,e.mixin=f,e.isArrayLike=d,e.each=h,e.map=m,e.reduce=p,e.filter=v,e.find=g,e.bind=y,e.curry=x,e.isArray=w,e.isFunction=M,e.isString=b,e.isObject=S,e.isBuiltInObject=C,e.isTypedArray=I,e.isDom=_,e.eqNaN=T,e.retrieve=O,e.retrieve2=A,e.retrieve3=E,e.slice=N,e.normalizeCssArray=R,e.assert=D,e.trim=k,e.setAsPrimitive=F,e.isPrimitive=P,e.createHashMap=W,e.concatArray=B,e.noop=z},function(t,e){(function(t){var n;"undefined"!=typeof window?n=window.__DEV__:"undefined"!=typeof t&&(n=t.__DEV__),"undefined"==typeof n&&(n=!0);var r=n;e.__DEV__=r}).call(e,function(){return this}())},function(e,n){e.exports=t},function(t,e,n){function r(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===m?{}:[]),this.sourceFormat=t.sourceFormat||d,this.seriesLayoutBy=t.seriesLayoutBy||f,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&a(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}var i=n(1),a=i.createHashMap,o=i.isTypedArray,u=n(13),s=u.enableClassCheck,l=n(5),c=l.SOURCE_FORMAT_ORIGINAL,f=l.SERIES_LAYOUT_BY_COLUMN,d=l.SOURCE_FORMAT_UNKNOWN,h=l.SOURCE_FORMAT_TYPED_ARRAY,m=l.SOURCE_FORMAT_KEYED_COLUMNS;r.seriesDataToSource=function(t){return new r({data:t,sourceFormat:o(t)?h:c,fromDataset:!1})},s(r);var p=r;t.exports=p},function(t,e){var n="original",r="arrayRows",i="objectRows",a="keyedColumns",o="unknown",u="typedArray",s="column",l="row";e.SOURCE_FORMAT_ORIGINAL=n,e.SOURCE_FORMAT_ARRAY_ROWS=r,e.SOURCE_FORMAT_OBJECT_ROWS=i,e.SOURCE_FORMAT_KEYED_COLUMNS=a,e.SOURCE_FORMAT_UNKNOWN=o,e.SOURCE_FORMAT_TYPED_ARRAY=u,e.SERIES_LAYOUT_BY_COLUMN=s,e.SERIES_LAYOUT_BY_ROW=l},function(t,e,n){function r(t){return t instanceof Array?t:null==t?[]:[t]}function i(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var a=n[r];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}function a(t){return!S(t)||C(t)||t instanceof Date?t:t.value}function o(t){return S(t)&&!(t instanceof Array)}function u(t,e){e=(e||[]).slice();var n=w.map(t||[],function(t,e){return{exist:t}});return b(e,function(t,r){if(S(t)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[r]=null);for(var i=0;i<n.length;i++){var a=n[i].exist;if(!(n[i].option||null!=a.id&&null!=t.id||null==t.name||c(t)||c(a)||a.name!==t.name+""))return n[i].option=t,void(e[r]=null)}}}),b(e,function(t,e){if(S(t)){for(var r=0;r<n.length;r++){var i=n[r].exist;if(!n[r].option&&!c(i)&&null==t.id){n[r].option=t;break}}r>=n.length&&n.push({option:t})}}),n}function s(t){var e=w.createHashMap();b(t,function(t,n){var r=t.exist;r&&e.set(r.id,t)}),b(t,function(t,n){var r=t.option;w.assert(!r||null==r.id||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),b(t,function(t,n){var r=t.exist,i=t.option,a=t.keyInfo;if(S(i)){if(a.name=null!=i.name?i.name+"":r?r.name:I+n,r)a.id=r.id;else if(null!=i.id)a.id=i.id+"";else{var o=0;do a.id="\0"+a.name+"\0"+o++;while(e.get(a.id))}e.set(a.id,t)}})}function l(t){var e=t.name;return!(!e||!e.indexOf(I))}function c(t){return S(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function f(t,e){function n(t,e,n){for(var i=0,a=t.length;i<a;i++)for(var o=t[i].seriesId,u=r(t[i].dataIndex),s=n&&n[o],l=0,c=u.length;l<c;l++){var f=u[l];s&&s[f]?s[f]=null:(e[o]||(e[o]={}))[f]=1}}function i(t,e){var n=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(e)n.push(+r);else{var a=i(t[r],!0);a.length&&n.push({seriesId:r,dataIndex:a})}return n}var a={},o={};return n(t||[],a),n(e||[],o,a),[i(a),i(o)]}function d(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?w.isArray(e.dataIndex)?w.map(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?w.isArray(e.name)?w.map(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function h(){var t="__\0ec_inner_"+T++ +"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function m(t,e,n){if(w.isString(e)){var r={};r[e+"Index"]=0,e=r}var i=n&&n.defaultMainType;!i||p(e,i+"Index")||p(e,i+"Id")||p(e,i+"Name")||(e[i+"Index"]=0);var a={};return b(e,function(r,i){var r=e[i];if("dataIndex"===i||"dataIndexInside"===i)return void(a[i]=r);var o=i.match(/^(\w+)(Index|Id|Name)$/)||[],u=o[1],s=(o[2]||"").toLowerCase();if(!(!u||!s||null==r||"index"===s&&"none"===r||n&&n.includeMainTypes&&w.indexOf(n.includeMainTypes,u)<0)){var l={mainType:u};"index"===s&&"all"===r||(l[s]=r);var c=t.queryComponents(l);a[u+"Models"]=c,a[u+"Model"]=c[0]}}),a}function p(t,e){return t&&t.hasOwnProperty(e)}function v(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function g(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function y(t){return"auto"===t?M.domSupported?"html":"richText":t||"html"}function x(t,e){var n=w.createHashMap(),r=[];return w.each(t,function(t){var i=e(t);(n.get(i)||(r.push(i),n.set(i,[]))).push(t)}),{keys:r,buckets:n}}var w=n(1),M=n(18),b=w.each,S=w.isObject,C=w.isArray,I="series\0",_=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],T=0;e.normalizeToArray=r,e.defaultEmphasis=i,e.TEXT_STYLE_OPTIONS=_,e.getDataItemValue=a,e.isDataItemOption=o,e.mappingToExists=u,e.makeIdAndName=s,e.isNameSpecified=l,e.isIdInner=c,e.compressBatches=f,e.queryDataIndex=d,e.makeInner=h,e.parseFinder=m,e.setAttribute=v,e.getAttribute=g,e.getTooltipRenderMode=y,e.groupData=x},function(t,e,n){function r(t){return t.replace(/^\s+|\s+$/g,"")}function i(t,e,n,r){var i=e[1]-e[0],a=n[1]-n[0];if(0===i)return 0===a?n[0]:(n[0]+n[1])/2;if(r)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*a+n[0]}function a(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?r(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function o(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function u(t){return t.sort(function(t,e){return t-e}),t}function s(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function l(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var r=+e.slice(n+1);return r<0?-r:0}var i=e.indexOf(".");return i<0?0:e.length-1-i}function c(t,e){var n=Math.log,r=Math.LN10,i=Math.floor(n(t[1]-t[0])/r),a=Math.round(n(Math.abs(e[1]-e[0]))/r),o=Math.min(Math.max(-i+a,0),20);return isFinite(o)?o:20}function f(t,e,n){if(!t[e])return 0;var r=M.reduce(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===r)return 0;for(var i=Math.pow(10,n),a=M.map(t,function(t){return(isNaN(t)?0:t)/r*i*100}),o=100*i,u=M.map(a,function(t){return Math.floor(t)}),s=M.reduce(u,function(t,e){return t+e},0),l=M.map(a,function(t,e){return t-u[e]});s<o;){for(var c=Number.NEGATIVE_INFINITY,f=null,d=0,h=l.length;d<h;++d)l[d]>c&&(c=l[d],f=d);++u[f],l[f]=0,++s}return u[e]/i}function d(t){var e=2*Math.PI;return(t%e+e)%e}function h(t){return t>-b&&t<b}function m(t){if(t instanceof Date)return t;if("string"==typeof t){var e=C.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function p(t){return Math.pow(10,v(t))}function v(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function g(t,e){var n,r=v(t),i=Math.pow(10,r),a=t/i;return n=e?a<1.5?1:a<2.5?2:a<4?3:a<7?5:10:a<1?1:a<2?2:a<3?3:a<5?5:10,t=n*i,r>=-20?+t.toFixed(r<0?-r:0):t}function y(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i}function x(t){function e(t,n,r){return t.interval[r]<n.interval[r]||t.interval[r]===n.interval[r]&&(t.close[r]-n.close[r]===(r?-1:1)||!r&&e(t,n,1))}t.sort(function(t,n){return e(t,n,0)?-1:1});for(var n=-(1/0),r=1,i=0;i<t.length;){for(var a=t[i].interval,o=t[i].close,u=0;u<2;u++)a[u]<=n&&(a[u]=n,o[u]=u?1:1-r),n=a[u],r=o[u];a[0]===a[1]&&o[0]*o[1]!==1?t.splice(i,1):i++}return t}function w(t){return t-parseFloat(t)>=0}var M=n(1),b=1e-4,S=9007199254740991,C=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;e.linearMap=i,e.parsePercent=a,e.round=o,e.asc=u,e.getPrecision=s,e.getPrecisionSafe=l,e.getPixelPrecision=c,e.getPercentWithPrecision=f,e.MAX_SAFE_INTEGER=S,e.remRadian=d,e.isRadianAroundZero=h,e.parseDate=m,e.quantity=p,e.quantityExponent=v,e.nice=g,e.quantile=y,e.reformIntervals=x,e.isNumeric=w},function(t,e,n){function r(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}var i=n(20),a=n(19),o=i.applyTransform,u=Math.min,s=Math.max;r.prototype={constructor:r,union:function(t){var e=u(t.x,this.x),n=u(t.y,this.y);this.width=s(t.x+t.width,this.x+this.width)-e,this.height=s(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],r=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=r[1]=this.y,e[0]=r[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,o(t,t,i),o(e,e,i),o(n,n,i),o(r,r,i),this.x=u(t[0],e[0],n[0],r[0]),this.y=u(t[1],e[1],n[1],r[1]);var a=s(t[0],e[0],n[0],r[0]),l=s(t[1],e[1],n[1],r[1]);this.width=a-this.x,this.height=l-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=a.create();return a.translate(i,i,[-e.x,-e.y]),a.scale(i,i,[n,r]),a.translate(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof r||(t=r.create(t));var e=this,n=e.x,i=e.x+e.width,a=e.y,o=e.y+e.height,u=t.x,s=t.x+t.width,l=t.y,c=t.y+t.height;return!(i<u||s<n||o<l||c<a)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new r(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},r.create=function(t){return new r(t.x,t.y,t.width,t.height)};var l=r;t.exports=l},function(t,e,n){function r(t){null!=t&&i.extend(this,t),this.otherDims={}}var i=n(1),a=r;t.exports=a},function(t,e,n){function r(t,e,n){function r(t,e,n){null!=M.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,v.set(e,!0))}x.isInstance(e)||(e=x.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var o=(n.dimsDef||[]).slice(),m=u(),v=u(),w=[],S=i(e,t,o,n.dimCount),C=0;C<S;C++){var I=o[C]=f({},d(o[C])?o[C]:{name:o[C]}),_=I.name,T=w[C]=new b;null!=_&&null==m.get(_)&&(T.name=T.displayName=_,m.set(_,C)),null!=I.type&&(T.type=I.type),null!=I.displayName&&(T.displayName=I.displayName)}var O=n.encodeDef;!O&&n.encodeDefaulter&&(O=n.encodeDefaulter(e,S)),O=u(O),O.each(function(t,e){if(t=p(t).slice(),1===t.length&&!l(t[0])&&t[0]<0)return void O.set(e,!1);var n=O.set(e,[]);s(t,function(t,i){l(t)&&(t=m.get(t)),null!=t&&t<S&&(n[i]=t,r(w[t],e,i))})});var A=0;s(t,function(t,e){var n,t,i,a;if(l(t))n=t,t={};else{n=t.name;var o=t.ordinalMeta;t.ordinalMeta=null,t=h(t),t.ordinalMeta=o,i=t.dimsDef,a=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var u=O.get(n);if(u!==!1){var u=p(u);if(!u.length)for(var f=0;f<(i&&i.length||1);f++){for(;A<w.length&&null!=w[A].coordDim;)A++;A<w.length&&u.push(A++)}s(u,function(e,o){var u=w[e];if(r(c(u,t),n,o),null==u.name&&i){var s=i[o];!d(s)&&(s={name:s}),u.name=u.displayName=s.name,u.defaultTooltip=s.defaultTooltip}a&&c(u.otherDims,a)})}});var E=n.generateCoord,N=n.generateCoordCount,R=null!=N;N=E?N||1:0;for(var D=E||"value",k=0;k<S;k++){var T=w[k]=w[k]||new b,F=T.coordDim;null==F&&(T.coordDim=a(D,v,R),T.coordDimIndex=0,(!E||N<=0)&&(T.isExtraCoord=!0),N--),null==T.name&&(T.name=a(T.coordDim,m)),null!=T.type||g(e,k,T.name)!==y.Must&&(!T.isExtraCoord||null==T.otherDims.itemName&&null==T.otherDims.seriesName)||(T.type="ordinal")}return w}function i(t,e,n,r){var i=Math.max(t.dimensionsDetectCount||1,e.length,n.length,r||0);return s(e,function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))}),i}function a(t,e,n){if(n||null!=e.get(t)){for(var r=0;null!=e.get(t+r);)r++;t+=r}return e.set(t,!0),t}var o=n(1),u=o.createHashMap,s=o.each,l=o.isString,c=o.defaults,f=o.extend,d=o.isObject,h=o.clone,m=n(6),p=m.normalizeToArray,v=n(12),g=v.guessOrdinal,y=v.BE_ORDINAL,x=n(4),w=n(11),M=w.OTHER_DIMENSIONS,b=n(9),S=r;t.exports=S},function(t,e,n){function r(t){var e={},n=e.encode={},r=l(),a=[],u=[],c=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};s(t.dimensions,function(e){var s=t.getDimensionInfo(e),l=s.coordDim;if(l){var d=s.coordDimIndex;i(n,l)[d]=e,s.isExtraCoord||(r.set(l,1),o(s.type)&&(a[0]=e),i(c.encode,l)[d]=s.index),s.defaultTooltip&&u.push(e)}f.each(function(t,e){var r=i(n,e),a=s.otherDims[e];null!=a&&a!==!1&&(r[a]=s.name)})});var d=[],h={};r.each(function(t,e){var r=n[e];h[e]=r[0],d=d.concat(r)}),e.dataDimsOnCoord=d,e.encodeFirstDimNotExtra=h;var m=n.label;m&&m.length&&(a=m.slice());var p=n.tooltip;return p&&p.length?u=p.slice():u.length||(u=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=u,e}function i(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function a(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function o(t){return!("ordinal"===t||"time"===t)}var u=n(1),s=u.each,l=u.createHashMap,c=(u.assert,n(2)),f=(c.__DEV__,l(["tooltip","label","itemName","itemId","seriesName"]));e.OTHER_DIMENSIONS=f,e.summarizeDimensions=r,e.getDimensionTypeByAxis=a},function(t,e,n){function r(t){var e=t.option.source,n=P;if(T(e))n=L;else if(C(e)){0===e.length&&(n=D);for(var r=0,i=e.length;r<i;r++){var a=e[r];if(null!=a){if(C(a)){n=D;break}if(_(a)){n=k;break}}}}else if(_(e)){for(var o in e)if(e.hasOwnProperty(o)&&O(e[o])){n=F;break}}else if(null!=e)throw new Error("Invalid data");z(t).sourceFormat=n}function i(t){return z(t).source}function a(t){z(t).datasetMap=M()}function o(t){var e=t.option,n=e.data,r=T(n)?L:R,i=!1,a=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,l=h(t);if(l){var c=l.option;n=c.source,r=z(l).sourceFormat,i=!0,a=a||c.seriesLayoutBy,null==o&&(o=c.sourceHeader),s=s||c.dimensions}var f=u(n,r,a,o,s);z(t).source=new E({data:n,fromDataset:i,seriesLayoutBy:a,sourceFormat:r,dimensionsDefine:f.dimensionsDefine,startIndex:f.startIndex,dimensionsDetectCount:f.dimensionsDetectCount,encodeDefine:e.encode})}function u(t,e,n,r,i){if(!t)return{dimensionsDefine:s(i)};var a,o;if(e===D)"auto"===r||null==r?l(function(t){null!=t&&"-"!==t&&(I(t)?null==o&&(o=1):o=0)},n,t,10):o=r?1:0,i||1!==o||(i=[],l(function(t,e){i[e]=null!=t?t:""},n,t)),a=i?i.length:n===W?t.length:t[0]?t[0].length:null;else if(e===k)i||(i=c(t));else if(e===F)i||(i=[],b(t,function(t,e){i.push(e)}));else if(e===R){var u=x(t[0]);a=C(u)&&u.length||1}return{startIndex:o,dimensionsDefine:s(i),dimensionsDetectCount:a}}function s(t){if(t){var e=M();return S(t,function(t,n){if(t=A({},_(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var r=e.get(t.name);return r?t.name+="-"+r.count++:e.set(t.name,{count:1}),t})}}function l(t,e,n,r){if(null==r&&(r=1/0),e===W)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var a=n[0]||[],i=0;i<a.length&&i<r;i++)t(a[i],i)}function c(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var r=[];return b(e,function(t,e){r.push(e)}),r}}function f(t,e,n){function r(t,e,n){for(var r=0;r<n;r++)t.push(e+r)}function i(t){var e=t.dimsDef;return e?e.length:1}var a={},o=h(e);if(!o||!t)return a;var u,s,l=[],c=[],f=e.ecModel,d=z(f).datasetMap,m=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),b(t,function(e,n){!_(e)&&(t[n]={name:e}),"ordinal"===e.type&&null==u&&(u=n,s=i(t[n])),a[e.name]=[]});var p=d.get(m)||d.set(m,{categoryWayDim:s,valueWayDim:0});return b(t,function(t,e){var n=t.name,o=i(t);if(null==u){var s=p.valueWayDim;r(a[n],s,o),r(c,s,o),p.valueWayDim+=o}else if(u===e)r(a[n],0,o),r(l,0,o);else{var s=p.categoryWayDim;r(a[n],s,o),r(c,s,o),p.categoryWayDim+=o}}),l.length&&(a.itemName=l),c.length&&(a.seriesName=c),a}function d(t,e,n){var r={},i=h(t);if(!i)return r;var a,o=e.sourceFormat,u=e.dimensionsDefine;o!==k&&o!==F||b(u,function(t,e){"name"===(_(t)?t.name:t)&&(a=e)});var s=function(){function t(t){return null!=t.v&&null!=t.n}for(var r={},i={},s=[],l=0,c=Math.min(5,n);l<c;l++){var f=p(e.data,o,e.seriesLayoutBy,u,e.startIndex,l);s.push(f);var d=f===B.Not;if(d&&null==r.v&&l!==a&&(r.v=l),(null==r.n||r.n===r.v||!d&&s[r.n]===B.Not)&&(r.n=l),t(r)&&s[r.n]!==B.Not)return r;d||(f===B.Might&&null==i.v&&l!==a&&(i.v=l),null!=i.n&&i.n!==i.v||(i.n=l))}return t(r)?r:t(i)?i:null}();if(s){r.value=s.v;var l=null!=a?a:s.n;r.itemName=[l],r.seriesName=[l]}return r}function h(t){var e=t.option,n=e.data;if(!n)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function m(t,e){return p(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function p(t,e,n,r,i,a){function o(t){var e=I(t);return null!=t&&isFinite(t)&&""!==t?e?B.Might:B.Not:e&&"-"!==t?B.Must:void 0}var u,s=5;if(T(t))return B.Not;var l,c;if(r){var f=r[a];_(f)?(l=f.name,c=f.type):I(f)&&(l=f)}if(null!=c)return"ordinal"===c?B.Must:B.Not;if(e===D)if(n===W){for(var d=t[a],h=0;h<(d||[]).length&&h<s;h++)if(null!=(u=o(d[i+h])))return u}else for(var h=0;h<t.length&&h<s;h++){var m=t[i+h];if(m&&null!=(u=o(m[a])))return u}else if(e===k){if(!l)return B.Not;for(var h=0;h<t.length&&h<s;h++){var p=t[h];if(p&&null!=(u=o(p[l])))return u}}else if(e===F){if(!l)return B.Not;var d=t[l];if(!d||T(d))return B.Not;for(var h=0;h<d.length&&h<s;h++)if(null!=(u=o(d[h])))return u}else if(e===R)for(var h=0;h<t.length&&h<s;h++){var p=t[h],v=x(p);if(!C(v))return B.Not;if(null!=(u=o(v[a])))return u}return B.Not}var v=n(2),g=(v.__DEV__,n(6)),y=g.makeInner,x=g.getDataItemValue,w=n(1),M=w.createHashMap,b=w.each,S=w.map,C=w.isArray,I=w.isString,_=w.isObject,T=w.isTypedArray,O=w.isArrayLike,A=w.extend,E=(w.assert,n(4)),N=n(5),R=N.SOURCE_FORMAT_ORIGINAL,D=N.SOURCE_FORMAT_ARRAY_ROWS,k=N.SOURCE_FORMAT_OBJECT_ROWS,F=N.SOURCE_FORMAT_KEYED_COLUMNS,P=N.SOURCE_FORMAT_UNKNOWN,L=N.SOURCE_FORMAT_TYPED_ARRAY,W=N.SERIES_LAYOUT_BY_ROW,B={Must:1,Might:2,Not:3},z=y();e.BE_ORDINAL=B,e.detectSourceFormat=r,e.getSource=i,e.resetSourceDefaulter=a,e.prepareSource=o,e.makeSeriesEncodeForAxisCoordSys=f,e.makeSeriesEncodeForNameBased=d,e.guessOrdinal=m},function(t,e,n){function r(t){var e={main:"",sub:""};return t&&(t=t.split(h),e.main=t[0]||"",e.sub=t[1]||""),e}function i(t){d.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function a(t,e){t.$constructor=t,t.extend=function(t){var e=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return d.extend(n.prototype,t),n.extend=this.extend,n.superCall=u,n.superApply=s,d.inherits(n,this),n.superClass=e,n}}function o(t){var e=["__\0is_clz",p++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function u(t,e){var n=d.slice(arguments,2);return this.superClass.prototype[e].apply(t,n)}function s(t,e,n){return this.superClass.prototype[e].apply(t,n)}function l(t,e){function n(t){var e=a[t.main];return e&&e[m]||(e=a[t.main]={},e[m]=!0),e}e=e||{};var a={};if(t.registerClass=function(t,e){if(e)if(i(e),e=r(e),e.sub){if(e.sub!==m){var o=n(e);o[e.sub]=t}}else a[e.main]=t;return t},t.getClass=function(t,e,n){var r=a[t];if(r&&r[m]&&(r=e?r[e]:null),n&&!r)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){t=r(t);var e=[],n=a[t.main];return n&&n[m]?d.each(n,function(t,n){n!==m&&e.push(t)}):e.push(n),e},t.hasClass=function(t){return t=r(t),!!a[t.main]},t.getAllClassMainTypes=function(){var t=[];return d.each(a,function(e,n){t.push(n)}),t},t.hasSubTypes=function(t){t=r(t);var e=a[t.main];return e&&e[m]},t.parseClassType=r,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var n=o.call(this,e);return t.registerClass(n,e.type)})}return t}function c(t,e){}var f=n(2),d=(f.__DEV__,n(1)),h=".",m="___EC__COMPONENT__CONTAINER___",p=0;e.parseClassType=r,e.enableClassExtend=a,e.enableClassCheck=o,e.enableClassManagement=l,e.setReadOnly=c},function(t,e,n){function r(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function i(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function a(t){return null==t?"":(t+"").replace(x,function(t,e){return w[e]})}function o(t,e,n){p.isArray(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var u=M[o];t=t.replace(b(u),b(u,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var c=e[s][i[l]];t=t.replace(b(M[l],s),n?a(c):c)}return t}function u(t,e,n){return p.each(e,function(e,r){t=t.replace("{"+r+"}",n?a(e):e)}),t}function s(t,e){t=p.isString(t)?{color:t,extraCssText:e}:t||{};var n=t.color,r=t.type,e=t.extraCssText,i=t.renderMode||"html",o=t.markerId||"X";return n?"html"===i?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+a(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+a(n)+";"+(e||"")+'"></span>':{renderMode:i,content:"{marker"+o+"|}  ",style:{color:n}}:""}function l(t,e){return t+="","0000".substr(0,e-t.length)+t}function c(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var r=g.parseDate(e),i=n?"UTC":"",a=r["get"+i+"FullYear"](),o=r["get"+i+"Month"]()+1,u=r["get"+i+"Date"](),s=r["get"+i+"Hours"](),c=r["get"+i+"Minutes"](),f=r["get"+i+"Seconds"](),d=r["get"+i+"Milliseconds"]();return t=t.replace("MM",l(o,2)).replace("M",o).replace("yyyy",a).replace("yy",a%100).replace("dd",l(u,2)).replace("d",u).replace("hh",l(s,2)).replace("h",s).replace("mm",l(c,2)).replace("m",c).replace("ss",l(f,2)).replace("s",f).replace("SSS",l(d,3))}function f(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function d(t){return v.getBoundingRect(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function h(t,e,n,r,i,a,o,u){return v.getBoundingRect(t,e,n,r,i,u,a,o)}function m(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location=t}else window.open(t,e)}var p=n(1),v=n(16),g=n(7),y=p.normalizeCssArray,x=/([&<>"'])/g,w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M=["a","b","c","d","e","f","g"],b=function(t,e){return"{"+t+(null==e?"":e)+"}"},S=v.truncateText;e.addCommas=r,e.toCamelCase=i,e.normalizeCssArray=y,e.encodeHTML=a,e.formatTpl=o,e.formatTplSimple=u,e.getTooltipMarker=s,e.formatTime=c,e.capitalFirst=f,e.truncateText=S,e.getTextBoundingRect=d,e.getTextRect=h,e.windowOpen=m},function(t,e,n){function r(t,e,n,r,i){var a=0,o=0;null==r&&(r=1/0),null==i&&(i=1/0);var u=0;e.eachChild(function(s,l){var c,f,d=s.position,h=s.getBoundingRect(),m=e.childAt(l+1),p=m&&m.getBoundingRect();if("horizontal"===t){var v=h.width+(p?-p.x+h.x:0);c=a+v,c>r||s.newline?(a=0,c=v,o+=u+n,u=h.height):u=Math.max(u,h.height)}else{var g=h.height+(p?-p.y+h.y:0);f=o+g,f>i||s.newline?(a+=u+n,o=0,f=g,u=h.width):u=Math.max(u,h.width)}s.newline||(d[0]=a,d[1]=o,"horizontal"===t?a=c+n:o=f+n)})}function i(t,e,n){var r=e.width,i=e.height,a=m(t.x,r),o=m(t.y,i),u=m(t.x2,r),s=m(t.y2,i);return(isNaN(a)||isNaN(parseFloat(t.x)))&&(a=0),(isNaN(u)||isNaN(parseFloat(t.x2)))&&(u=r),(isNaN(o)||isNaN(parseFloat(t.y)))&&(o=0),(isNaN(s)||isNaN(parseFloat(t.y2)))&&(s=i),n=p.normalizeCssArray(n||0),{width:Math.max(u-a-n[1]-n[3],0),height:Math.max(s-o-n[0]-n[2],0)}}function a(t,e,n){n=p.normalizeCssArray(n||0);var r=e.width,i=e.height,a=m(t.left,r),o=m(t.top,i),u=m(t.right,r),s=m(t.bottom,i),l=m(t.width,r),c=m(t.height,i),f=n[2]+n[0],h=n[1]+n[3],v=t.aspect;switch(isNaN(l)&&(l=r-u-h-a),isNaN(c)&&(c=i-s-f-o),null!=v&&(isNaN(l)&&isNaN(c)&&(v>r/i?l=.8*r:c=.8*i),isNaN(l)&&(l=v*c),isNaN(c)&&(c=l/v)),isNaN(a)&&(a=r-u-l-h),isNaN(o)&&(o=i-s-c-f),t.left||t.right){case"center":a=r/2-l/2-n[3];break;case"right":a=r-l-h}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-f}a=a||0,o=o||0,isNaN(l)&&(l=r-h-a-(u||0)),isNaN(c)&&(c=i-f-o-(s||0));var g=new d(a+n[3],o+n[0],l,c);return g.margin=n,g}function o(t,e,n,r,i){var o=!i||!i.hv||i.hv[0],u=!i||!i.hv||i.hv[1],s=i&&i.boundingMode||"all";if(o||u){var l;if("raw"===s)l="group"===t.type?new d(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();l=l.clone(),l.applyTransform(c)}e=a(f.defaults({width:l.width,height:l.height},e),n,r);var h=t.position,m=o?e.x-l.x:0,p=u?e.y-l.y:0;t.attr("position","raw"===s?[m,p]:[h[0]+m,h[1]+p])}}function u(t,e){return null!=t[y[e][0]]||null!=t[y[e][1]]&&null!=t[y[e][2]]}function s(t,e,n){function r(n,r){var o={},s=0,l={},c=0,f=2;if(v(n,function(e){l[e]=t[e]}),v(n,function(t){i(e,t)&&(o[t]=l[t]=e[t]),a(o,t)&&s++,a(l,t)&&c++}),u[r])return a(e,n[1])?l[n[2]]=null:a(e,n[2])&&(l[n[1]]=null),l;if(c!==f&&s){if(s>=f)return o;for(var d=0;d<n.length;d++){var h=n[d];if(!i(o,h)&&i(t,h)){o[h]=t[h];break}}return o}return l}function i(t,e){return t.hasOwnProperty(e)}function a(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,n){v(t,function(t){e[t]=n[t]})}!f.isObject(n)&&(n={});var u=n.ignoreSize;!f.isArray(u)&&(u=[u,u]);var s=r(y[0],0),l=r(y[1],1);o(y[0],t,s),o(y[1],t,l)}function l(t){return c({},t)}function c(t,e){return e&&t&&v(g,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var f=n(1),d=n(8),h=n(7),m=h.parsePercent,p=n(14),v=f.each,g=["left","right","top","bottom","width","height"],y=[["width","left","right"],["height","top","bottom"]],x=r,w=f.curry(r,"vertical"),M=f.curry(r,"horizontal");e.LOCATION_PARAMS=g,e.HV_NAMES=y,e.box=x,e.vbox=w,e.hbox=M,e.getAvailableSize=i,e.getLayoutRect=a,e.positionElement=o,e.sizeCalculable=u,e.mergeLayoutParam=s,e.getLayoutParams=l,e.copyLayoutParams=c},function(t,e,n){function r(t,e){F[t]=e}function i(t,e){e=e||k;var n=t+":"+e;
if(E[n])return E[n];for(var r=(t+"").split("\n"),i=0,a=0,o=r.length;a<o;a++)i=Math.max(g(r[a],e).width,i);return N>R&&(N=0,E={}),N++,E[n]=i,i}function a(t,e,n,r,i,a,s,l){return s?u(t,e,n,r,i,a,s,l):o(t,e,n,r,i,a,l)}function o(t,e,n,r,a,o,u){var c=y(t,e,a,o,u),f=i(t,e);a&&(f+=a[1]+a[3]);var d=c.outerHeight,h=s(0,f,n),m=l(0,d,r),p=new b(h,m,f,d);return p.lineHeight=c.lineHeight,p}function u(t,e,n,r,i,a,o,u){var c=x(t,{rich:o,truncate:u,font:e,textAlign:n,textPadding:i,textLineHeight:a}),f=c.outerWidth,d=c.outerHeight,h=s(0,f,n),m=l(0,d,r);return new b(h,m,f,d)}function s(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function l(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function c(t,e,n){var r=e.textPosition,i=e.textDistance,a=n.x,o=n.y;i=i||0;var u=n.height,s=n.width,l=u/2,c="left",f="top";switch(r){case"left":a-=i,o+=l,c="right",f="middle";break;case"right":a+=i+s,o+=l,f="middle";break;case"top":a+=s/2,o-=i,c="center",f="bottom";break;case"bottom":a+=s/2,o+=u+i,c="center";break;case"inside":a+=s/2,o+=l,c="center",f="middle";break;case"insideLeft":a+=i,o+=l,f="middle";break;case"insideRight":a+=s-i,o+=l,c="right",f="middle";break;case"insideTop":a+=s/2,o+=i,c="center";break;case"insideBottom":a+=s/2,o+=u-i,c="center",f="bottom";break;case"insideTopLeft":a+=i,o+=i;break;case"insideTopRight":a+=s-i,o+=i,c="right";break;case"insideBottomLeft":a+=i,o+=u-i,f="bottom";break;case"insideBottomRight":a+=s-i,o+=u-i,c="right",f="bottom"}return t=t||{},t.x=a,t.y=o,t.textAlign=c,t.textVerticalAlign=f,t}function f(t,e,n){var r={textPosition:t,textDistance:n};return c({},r,e)}function d(t,e,n,r,i){if(!e)return"";var a=(t+"").split("\n");i=h(e,n,r,i);for(var o=0,u=a.length;o<u;o++)a[o]=m(a[o],i);return a.join("\n")}function h(t,e,n,r){r=_({},r),r.font=e;var n=T(n,"...");r.maxIterations=T(r.maxIterations,2);var a=r.minChar=T(r.minChar,0);r.cnCharWidth=i("国",e);var o=r.ascCharWidth=i("a",e);r.placeholder=T(r.placeholder,"");for(var u=t=Math.max(0,t-1),s=0;s<a&&u>=o;s++)u-=o;var l=i(n,e);return l>u&&(n="",l=0),u=t-l,r.ellipsis=n,r.ellipsisWidth=l,r.contentWidth=u,r.containerWidth=t,r}function m(t,e){var n=e.containerWidth,r=e.font,a=e.contentWidth;if(!n)return"";var o=i(t,r);if(o<=n)return t;for(var u=0;;u++){if(o<=a||u>=e.maxIterations){t+=e.ellipsis;break}var s=0===u?p(t,a,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*a/o):0;t=t.substr(0,s),o=i(t,r)}return""===t&&(t=e.placeholder),t}function p(t,e,n,r){for(var i=0,a=0,o=t.length;a<o&&i<e;a++){var u=t.charCodeAt(a);i+=0<=u&&u<=127?n:r}return a}function v(t){return i("国",t)}function g(t,e){return F.measureText(t,e)}function y(t,e,n,r,i){null!=t&&(t+="");var a=T(r,v(e)),o=t?t.split("\n"):[],u=o.length*a,s=u,l=!0;if(n&&(s+=n[0]+n[2]),t&&i){l=!1;var c=i.outerHeight,f=i.outerWidth;if(null!=c&&s>c)t="",o=[];else if(null!=f)for(var d=h(f-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),p=0,g=o.length;p<g;p++)o[p]=m(o[p],d)}return{lines:o,height:u,outerHeight:s,lineHeight:a,canCacheByTextString:l}}function x(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,a=D.lastIndex=0;null!=(r=D.exec(t));){var o=r.index;o>a&&w(n,t.substring(a,o)),w(n,r[2],r[1]),a=D.lastIndex}a<t.length&&w(n,t.substring(a,t.length));var u=n.lines,s=0,l=0,c=[],f=e.textPadding,h=e.truncate,m=h&&h.outerWidth,p=h&&h.outerHeight;f&&(null!=m&&(m-=f[1]+f[3]),null!=p&&(p-=f[0]+f[2]));for(var g=0;g<u.length;g++){for(var y=u[g],x=0,M=0,b=0;b<y.tokens.length;b++){var C=y.tokens[b],I=C.styleName&&e.rich[C.styleName]||{},_=C.textPadding=I.textPadding,A=C.font=I.font||e.font,E=C.textHeight=T(I.textHeight,v(A));if(_&&(E+=_[0]+_[2]),C.height=E,C.lineHeight=O(I.textLineHeight,e.textLineHeight,E),C.textAlign=I&&I.textAlign||e.textAlign,C.textVerticalAlign=I&&I.textVerticalAlign||"middle",null!=p&&s+C.lineHeight>p)return{lines:[],width:0,height:0};C.textWidth=i(C.text,A);var N=I.textWidth,R=null==N||"auto"===N;if("string"==typeof N&&"%"===N.charAt(N.length-1))C.percentWidth=N,c.push(C),N=0;else{if(R){N=C.textWidth;var k=I.textBackgroundColor,F=k&&k.image;F&&(F=S.findExistImage(F),S.isImageReady(F)&&(N=Math.max(N,F.width*E/F.height)))}var P=_?_[1]+_[3]:0;N+=P;var L=null!=m?m-M:null;null!=L&&L<N&&(!R||L<P?(C.text="",C.textWidth=N=0):(C.text=d(C.text,L-P,A,h.ellipsis,{minChar:h.minChar}),C.textWidth=i(C.text,A),N=C.textWidth+P))}M+=C.width=N,I&&(x=Math.max(x,C.lineHeight))}y.width=M,y.lineHeight=x,s+=x,l=Math.max(l,M)}n.outerWidth=n.width=T(e.textWidth,l),n.outerHeight=n.height=T(e.textHeight,s),f&&(n.outerWidth+=f[1]+f[3],n.outerHeight+=f[0]+f[2]);for(var g=0;g<c.length;g++){var C=c[g],W=C.percentWidth;C.width=parseInt(W,10)/100*l}return n}function w(t,e,n){for(var r=""===e,i=e.split("\n"),a=t.lines,o=0;o<i.length;o++){var u=i[o],s={styleName:n,text:u,isLineHolder:!u&&!r};if(o)a.push({tokens:[s]});else{var l=(a[a.length-1]||(a[0]={tokens:[]})).tokens,c=l.length;1===c&&l[0].isLineHolder?l[0]=s:(u||!c||r)&&l.push(s)}}}function M(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&A(e)||t.textFont||t.font}var b=n(8),S=n(21),C=n(1),I=C.getContext,_=C.extend,T=C.retrieve2,O=C.retrieve3,A=C.trim,E={},N=0,R=5e3,D=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,k="12px sans-serif",F={};F.measureText=function(t,e){var n=I();return n.font=e||k,n.measureText(t)},e.DEFAULT_FONT=k,e.$override=r,e.getWidth=i,e.getBoundingRect=a,e.adjustTextX=s,e.adjustTextY=l,e.calculateTextPosition=c,e.adjustTextPositionOnRect=f,e.truncateText=d,e.getLineHeight=v,e.measureText=g,e.parsePlainText=y,e.parseRichText=x,e.makeFont=M},function(t,e){var n=function(){this.head=null,this.tail=null,this._len=0},r=n.prototype;r.insert=function(t){var e=new i(t);return this.insertEntry(e),e},r.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},r.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},r.len=function(){return this._len},r.clear=function(){this.head=this.tail=null,this._len=0};var i=function(t){this.value=t,this.next,this.prev},a=function(t){this._list=new n,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},o=a.prototype;o.put=function(t,e){var n=this._list,r=this._map,a=null;if(null==r[t]){var o=n.len(),u=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],a=s.value,this._lastRemovedEntry=s}u?u.value=e:u=new i(e),u.key=t,n.insertEntry(u),r[t]=u}return a},o.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},o.clear=function(){this._list.clear(),this._map={}};var u=a;t.exports=u},function(t,e){function n(t){var e={},n={},r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),a&&(n.edge=!0,n.version=a[1]),o&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}}var r={};r="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:n(navigator.userAgent);var i=r;t.exports=i},function(t,e){function n(){var t=new f(6);return r(t),t}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],a=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],u=e[0]*n[4]+e[2]*n[5]+e[4],s=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t}function o(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function u(t,e,n){var r=e[0],i=e[2],a=e[4],o=e[1],u=e[3],s=e[5],l=Math.sin(n),c=Math.cos(n);return t[0]=r*c+o*l,t[1]=-r*l+o*c,t[2]=i*c+u*l,t[3]=-i*l+c*u,t[4]=c*a+l*s,t[5]=c*s-l*a,t}function s(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function l(t,e){var n=e[0],r=e[2],i=e[4],a=e[1],o=e[3],u=e[5],s=n*o-a*r;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-r*s,t[3]=n*s,t[4]=(r*u-o*i)*s,t[5]=(a*i-n*u)*s,t):null}function c(t){var e=n();return i(e,t),e}var f="undefined"==typeof Float32Array?Array:Float32Array;e.create=n,e.identity=r,e.copy=i,e.mul=a,e.translate=o,e.rotate=u,e.scale=s,e.invert=l,e.clone=c},function(t,e){function n(t,e){var n=new S(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function r(t,e){return t[0]=e[0],t[1]=e[1],t}function i(t){var e=new S(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e,n){return t[0]=e,t[1]=n,t}function o(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function u(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}function s(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function l(t){return Math.sqrt(c(t))}function c(t){return t[0]*t[0]+t[1]*t[1]}function f(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function d(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function h(t,e){return t[0]*e[0]+t[1]*e[1]}function m(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function p(t,e){var n=l(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function v(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function g(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function y(t,e){return t[0]=-e[0],t[1]=-e[1],t}function x(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function w(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function M(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function b(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var S="undefined"==typeof Float32Array?Array:Float32Array,C=l,I=c,_=v,T=g;e.create=n,e.copy=r,e.clone=i,e.set=a,e.add=o,e.scaleAndAdd=u,e.sub=s,e.len=l,e.length=C,e.lenSquare=c,e.lengthSquare=I,e.mul=f,e.div=d,e.dot=h,e.scale=m,e.normalize=p,e.distance=v,e.dist=_,e.distanceSquare=g,e.distSquare=T,e.negate=y,e.lerp=x,e.applyTransform=w,e.min=M,e.max=b},function(t,e,n){function r(t){if("string"==typeof t){var e=s.get(t);return e&&e.image}return t}function i(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var u=s.get(t),l={hostEl:n,cb:r,cbPayload:i};return u?(e=u.image,!o(e)&&u.pending.push(l)):(e=new Image,e.onload=e.onerror=a,s.put(t,e.__cachedImgObj={image:e,pending:[l]}),e.src=e.__zrImageSrc=t),e}return t}return e}function a(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function o(t){return t&&t.width&&t.height}var u=n(17),s=new u(50);e.findExistImage=r,e.createOrUpdateImage=i,e.isImageReady=o},function(t,e,n){var r=n(10),i=n(3);i.extendSeriesModel({type:"series.wordCloud",visualColorAccessPath:"textStyle.normal.color",optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,e){var n=r(["value"],t.data),a=new i.List(n,this);return a.initData(t.data),a},defaultOption:{maskImage:null,shape:"circle",left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,textStyle:{normal:{fontWeight:"normal"}}}})},function(t,e,n){var r=n(3);r.extendChartView({type:"wordCloud",render:function(t,e,n){var i=this.group;i.removeAll();var a=t.getData(),o=t.get("gridSize");t.layoutInstance.ondraw=function(t,e,n,u){var s=a.getItemModel(n),l=s.getModel("textStyle.normal"),c=s.getModel("textStyle.emphasis"),f=new r.graphic.Text({style:r.graphic.setTextStyle({},l,{x:u.info.fillTextOffsetX,y:u.info.fillTextOffsetY+.5*e,text:t,textBaseline:"middle",textFill:a.getItemVisual(n,"color"),fontSize:e}),scale:[1/u.info.mu,1/u.info.mu],position:[(u.gx+u.info.gw/2)*o,(u.gy+u.info.gh/2)*o],rotation:u.rot});i.add(f),a.setItemGraphicEl(n,f),r.graphic.setHoverStyle(f,r.graphic.setTextStyle({},c,null,{forMerge:!0},!0))},this._model=t},remove:function(){this.group.removeAll(),this._model&&this._model.layoutInstance&&this._model.layoutInstance.dispose()},dispose:function(){this._model&&this._model.layoutInstance&&this._model.layoutInstance.dispose()}})},function(t,e,n){var r,i;window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],e="zero-timeout-message",n=function(n){var r=t.length;return t.push(n),window.postMessage(e+r.toString(36),"*"),r};return window.addEventListener("message",function(n){if("string"==typeof n.data&&n.data.substr(0,e.length)===e){n.stopImmediatePropagation();var r=parseInt(n.data.substr(e.length),36);t[r]&&(t[r](),t[r]=void 0)}},!0),window.clearImmediate=function(e){t[e]&&(t[e]=void 0)},n}()||function(t){window.setTimeout(t,0)}}()),window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}()),function(n){var a=function(){var t=document.createElement("canvas");if(!t||!t.getContext)return!1;var e=t.getContext("2d");return!!e.getImageData&&(!!e.fillText&&(!!Array.prototype.some&&!!Array.prototype.push))}(),o=function(){if(a){for(var t,e,n=document.createElement("canvas").getContext("2d"),r=20;r;){if(n.font=r.toString(10)+"px sans-serif",n.measureText("Ｗ").width===t&&n.measureText("m").width===e)return r+1;t=n.measureText("Ｗ").width,e=n.measureText("m").width,r--}return 0}}(),u=function(t){for(var e,n,r=t.length;r;e=Math.floor(Math.random()*r),n=t[--r],t[r]=t[e],t[e]=n);return t},s=function(t,e){function n(t,e){return"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(e-t)+t).toFixed()+"%)"}if(a){Array.isArray(t)||(t=[t]),t.forEach(function(e,n){if("string"==typeof e){if(t[n]=document.getElementById(e),!t[n])throw"The element id specified is not found."}else if(!e.tagName&&!e.appendChild)throw"You must pass valid HTML elements, or ID of the element."});var r={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(e)for(var i in e)i in r&&(r[i]=e[i]);if("function"!=typeof r.weightFactor){var s=r.weightFactor;r.weightFactor=function(t){return t*s}}if("function"!=typeof r.shape)switch(r.shape){case"circle":default:r.shape="circle";break;case"cardioid":r.shape=function(t){return 1-Math.sin(t)};break;case"diamond":case"square":r.shape=function(t){var e=t%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"triangle-forward":r.shape=function(t){var e=t%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":case"triangle-upright":r.shape=function(t){var e=(t+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":r.shape=function(t){var e=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(e)+.726543*Math.sin(e))};break;case"star":r.shape=function(t){var e=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-e)+3.07768*Math.sin(2*Math.PI/10-e)):1/(Math.cos(e)+3.07768*Math.sin(e))}}r.gridSize=Math.max(Math.floor(r.gridSize),4);var l,c,f,d,h,m,p,v=r.gridSize,g=v-r.maskGapWidth,y=Math.abs(r.maxRotation-r.minRotation),x=Math.min(r.maxRotation,r.minRotation),w=r.rotationStep;switch(r.color){case"random-dark":p=function(){return n(10,50)};break;case"random-light":p=function(){return n(50,90)};break;default:"function"==typeof r.color&&(p=r.color)}var M=null;"function"==typeof r.classes&&(M=r.classes);var b,S=!1,C=[],I=function(t){var e,n,r=t.currentTarget,i=r.getBoundingClientRect();t.touches?(e=t.touches[0].clientX,n=t.touches[0].clientY):(e=t.clientX,n=t.clientY);var a=e-i.left,o=n-i.top,u=Math.floor(a*(r.width/i.width||1)/v),s=Math.floor(o*(r.height/i.height||1)/v);return C[u][s]},_=function(t){var e=I(t);if(b!==e)return b=e,e?void r.hover(e.item,e.dimension,t):void r.hover(void 0,void 0,t)},T=function(t){var e=I(t);e&&(r.click(e.item,e.dimension,t),t.preventDefault())},O=[],A=function(t){if(O[t])return O[t];var e=8*t,n=e,i=[];for(0===t&&i.push([d[0],d[1],0]);n--;){var a=1;"circle"!==r.shape&&(a=r.shape(n/e*2*Math.PI)),i.push([d[0]+t*a*Math.cos(-n/e*2*Math.PI),d[1]+t*a*Math.sin(-n/e*2*Math.PI)*r.ellipticity,n/e*2*Math.PI])}return O[t]=i,i},E=function(){return r.abortThreshold>0&&(new Date).getTime()-m>r.abortThreshold},N=function(){return 0===r.rotateRatio?0:Math.random()>r.rotateRatio?0:0===y?x:x+Math.round(Math.random()*y/w)*w},R=function(t,e,n){var i=!1,a=r.weightFactor(e);if(a<=r.minSize)return!1;var u=1;a<o&&(u=function(){for(var t=2;t*a<o;)t+=2;return t}());var s=document.createElement("canvas"),l=s.getContext("2d",{willReadFrequently:!0});l.font=r.fontWeight+" "+(a*u).toString(10)+"px "+r.fontFamily;var c=l.measureText(t).width/u,f=Math.max(a*u,l.measureText("m").width,l.measureText("Ｗ").width)/u,d=c+2*f,h=3*f,m=Math.ceil(d/v),p=Math.ceil(h/v);d=m*v,h=p*v;var g=-c/2,y=.4*-f,x=Math.ceil((d*Math.abs(Math.sin(n))+h*Math.abs(Math.cos(n)))/v),w=Math.ceil((d*Math.abs(Math.cos(n))+h*Math.abs(Math.sin(n)))/v),M=w*v,b=x*v;s.setAttribute("width",M),s.setAttribute("height",b),i&&(document.body.appendChild(s),l.save()),l.scale(1/u,1/u),l.translate(M*u/2,b*u/2),l.rotate(-n),l.font=r.fontWeight+" "+(a*u).toString(10)+"px "+r.fontFamily,l.fillStyle="#000",l.textBaseline="middle",l.fillText(t,g*u,(y+.5*a)*u);var S=l.getImageData(0,0,M,b).data;if(E())return!1;i&&(l.strokeRect(g*u,y,c*u,f*u),l.restore());for(var C,I,_,T=[],O=w,A=[x/2,w/2,x/2,w/2];O--;)for(C=x;C--;){_=v;t:{for(;_--;)for(I=v;I--;)if(S[4*((C*v+_)*M+(O*v+I))+3]){T.push([O,C]),O<A[3]&&(A[3]=O),O>A[1]&&(A[1]=O),C<A[0]&&(A[0]=C),C>A[2]&&(A[2]=C),i&&(l.fillStyle="rgba(255, 0, 0, 0.5)",l.fillRect(O*v,C*v,v-.5,v-.5));break t}i&&(l.fillStyle="rgba(0, 0, 255, 0.5)",l.fillRect(O*v,C*v,v-.5,v-.5))}}return i&&(l.fillStyle="rgba(0, 255, 0, 0.5)",l.fillRect(A[3]*v,A[0]*v,(A[1]-A[3]+1)*v,(A[2]-A[0]+1)*v)),{mu:u,occupied:T,bounds:A,gw:w,gh:x,fillTextOffsetX:g,fillTextOffsetY:y,fillTextWidth:c,fillTextHeight:f,fontSize:a}},D=function(t,e,n,i,a){for(var o=a.length;o--;){var u=t+a[o][0],s=e+a[o][1];if(u>=c||s>=f||u<0||s<0){if(!r.drawOutOfBound)return!1}else if(!l[u][s])return!1}return!0},k=function(e,n,i,a,o,u,s,l,c){var f,d=i.fontSize;f=p?p(a,o,d,u,s):r.color;var h;h=M?M(a,o,d,u,s):r.classes;var m,g=i.bounds;m={x:(e+g[3])*v,y:(n+g[0])*v,w:(g[1]-g[3]+1)*v,h:(g[2]-g[0]+1)*v},t.forEach(function(t){if(t.getContext){var o=t.getContext("2d"),u=i.mu;o.save(),o.scale(1/u,1/u),o.font=r.fontWeight+" "+(d*u).toString(10)+"px "+r.fontFamily,o.fillStyle=f,o.translate((e+i.gw/2)*v*u,(n+i.gh/2)*v*u),0!==l&&o.rotate(-l),o.textBaseline="middle",o.fillText(a,i.fillTextOffsetX*u,(i.fillTextOffsetY+.5*d)*u),o.restore()}else{var s=document.createElement("span"),m="";m="rotate("+-l/Math.PI*180+"deg) ",1!==i.mu&&(m+="translateX(-"+i.fillTextWidth/4+"px) scale("+1/i.mu+")");var p={position:"absolute",display:"block",font:r.fontWeight+" "+d*i.mu+"px "+r.fontFamily,left:(e+i.gw/2)*v+i.fillTextOffsetX+"px",top:(n+i.gh/2)*v+i.fillTextOffsetY+"px",width:i.fillTextWidth+"px",height:i.fillTextHeight+"px",lineHeight:d+"px",whiteSpace:"nowrap",transform:m,webkitTransform:m,msTransform:m,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};f&&(p.color=f),s.textContent=a;for(var g in p)s.style[g]=p[g];if(c)for(var y in c)s.setAttribute(y,c[y]);h&&(s.className+=h),t.appendChild(s)}})},F=function(e,n,r,i,a){if(!(e>=c||n>=f||e<0||n<0)){if(l[e][n]=!1,r){var o=t[0].getContext("2d");o.fillRect(e*v,n*v,g,g)}S&&(C[e][n]={item:a,dimension:i})}},P=function(e,n,i,a,o,u){var s,l=o.occupied,d=r.drawMask;d&&(s=t[0].getContext("2d"),s.save(),s.fillStyle=r.maskColor);var h;if(S){var m=o.bounds;h={x:(e+m[3])*v,y:(n+m[0])*v,w:(m[1]-m[3]+1)*v,h:(m[2]-m[0]+1)*v}}for(var p=l.length;p--;){var g=e+l[p][0],y=n+l[p][1];g>=c||y>=f||g<0||y<0||F(g,y,d,h,u)}d&&s.restore()},L=function(t){var e,n,i;Array.isArray(t)?(e=t[0],n=t[1]):(e=t.word,n=t.weight,i=t.attributes);var a=N(),o=R(e,n,a);if(!o)return!1;if(E())return!1;if(!r.drawOutOfBound){var s=o.bounds;if(s[1]-s[3]+1>c||s[2]-s[0]+1>f)return!1}for(var l=h+1,d=function(r){var u=Math.floor(r[0]-o.gw/2),s=Math.floor(r[1]-o.gh/2),c=o.gw,f=o.gh;return!!D(u,s,c,f,o.occupied)&&(k(u,s,o,e,n,h-l,r[2],a,i),P(u,s,c,f,o,t),{gx:u,gy:s,rot:a,info:o})};l--;){var m=A(h-l);r.shuffle&&(m=[].concat(m),u(m));for(var p=0;p<m.length;p++){var v=d(m[p]);if(v)return v}}return null},W=function(e,n,r){return n?!t.some(function(t){var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,!0,n,r||{}),!t.dispatchEvent(i)},this):void t.forEach(function(t){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,n,r||{}),t.dispatchEvent(i)},this)},B=function(){var e=t[0];if(e.getContext)c=Math.ceil(e.width/v),f=Math.ceil(e.height/v);else{var n=e.getBoundingClientRect();c=Math.ceil(n.width/v),f=Math.ceil(n.height/v)}if(W("wordcloudstart",!0)){d=r.origin?[r.origin[0]/v,r.origin[1]/v]:[c/2,f/2],h=Math.floor(Math.sqrt(c*c+f*f)),l=[];var i,a,o;if(!e.getContext||r.clearCanvas)for(t.forEach(function(t){if(t.getContext){var e=t.getContext("2d");e.fillStyle=r.backgroundColor,e.clearRect(0,0,c*(v+1),f*(v+1)),e.fillRect(0,0,c*(v+1),f*(v+1))}else t.textContent="",t.style.backgroundColor=r.backgroundColor,t.style.position="relative"}),i=c;i--;)for(l[i]=[],a=f;a--;)l[i][a]=!0;else{var u=document.createElement("canvas").getContext("2d");u.fillStyle=r.backgroundColor,u.fillRect(0,0,1,1);var s=u.getImageData(0,0,1,1).data,p=e.getContext("2d").getImageData(0,0,c*v,f*v).data;i=c;for(var g,y;i--;)for(l[i]=[],a=f;a--;){y=v;t:for(;y--;)for(g=v;g--;)for(o=4;o--;)if(p[4*((a*v+y)*c*v+(i*v+g))+o]!==s[o]){l[i][a]=!1;break t}l[i][a]!==!1&&(l[i][a]=!0)}p=u=s=void 0}if(r.hover||r.click){for(S=!0,i=c+1;i--;)C[i]=[];r.hover&&e.addEventListener("mousemove",_),r.click&&(e.addEventListener("click",T),e.addEventListener("touchstart",T),e.addEventListener("touchend",function(t){t.preventDefault()}),e.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),e.addEventListener("wordcloudstart",function t(){e.removeEventListener("wordcloudstart",t),e.removeEventListener("mousemove",_),e.removeEventListener("click",T),b=void 0})}o=0;var x,w;0!==r.wait?(x=window.setTimeout,w=window.clearTimeout):(x=window.setImmediate,w=window.clearImmediate);var M=function(e,n){t.forEach(function(t){t.addEventListener(e,n)},this)},I=function(e,n){t.forEach(function(t){t.removeEventListener(e,n)},this)},O=function t(){I("wordcloudstart",t),w(A)};M("wordcloudstart",O);var A=x(function t(){if(o>=r.list.length)return w(A),W("wordcloudstop",!1),void I("wordcloudstart",O);m=(new Date).getTime();var e=L(r.list[o]),n=!W("wordclouddrawn",!0,{item:r.list[o],drawn:e});return E()||n?(w(A),r.abort(),W("wordcloudabort",!1),W("wordcloudstop",!1),void I("wordcloudstart",O)):(o++,void(A=x(t,r.wait)))},r.wait)}};B()}};s.isSupported=a,s.minFontSize=o,r=[],i=function(){return s}.apply(e,r),!(void 0!==i&&(t.exports=i))}(this)},function(t,e,n){function r(t){for(var e=t.getContext("2d"),n=e.getImageData(0,0,t.width,t.height),r=e.createImageData(n),i=0,a=0,o=0;o<n.data.length;o+=4){var u=n.data[o+3];if(u>128){var s=n.data[o]+n.data[o+1]+n.data[o+2];i+=s,++a}}for(var l=i/a,o=0;o<n.data.length;o+=4){var s=n.data[o]+n.data[o+1]+n.data[o+2],u=n.data[o+3];u<128||s>l?(r.data[o]=0,r.data[o+1]=0,r.data[o+2]=0,r.data[o+3]=0):(r.data[o]=255,r.data[o+1]=255,r.data[o+2]=255,r.data[o+3]=255)}e.putImageData(r,0,0)}var i=n(3),a=n(15);n(22),n(23);var o=n(24);if(!o.isSupported)throw new Error("Sorry your browser not support wordCloud");i.registerLayout(function(t,e){t.eachSeriesByType("wordCloud",function(n){function u(t){var e=t.detail.item;t.detail.drawn&&n.layoutInstance.ondraw&&(t.detail.drawn.gx+=s.x/g,t.detail.drawn.gy+=s.y/g,n.layoutInstance.ondraw(e[0],e[1],e[2],t.detail.drawn))}var s=a.getLayoutRect(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),l=n.getData(),c=document.createElement("canvas");c.width=s.width,c.height=s.height;var f=c.getContext("2d"),d=n.get("maskImage");if(d)try{f.drawImage(d,0,0,c.width,c.height),r(c)}catch(t){console.error("Invalid mask image"),console.error(t.toString())}var h=n.get("sizeRange"),m=n.get("rotationRange"),p=l.getDataExtent("value"),v=Math.PI/180,g=n.get("gridSize");o(c,{list:l.mapArray("value",function(t,e){var n=l.getItemModel(e);return[l.getName(e),n.get("textStyle.normal.textSize",!0)||i.number.linearMap(t,p,h),e]}).sort(function(t,e){return e[1]-t[1]}),fontFamily:n.get("textStyle.normal.fontFamily")||n.get("textStyle.emphasis.fontFamily")||t.get("textStyle.fontFamily"),fontWeight:n.get("textStyle.normal.fontWeight")||n.get("textStyle.emphasis.fontWeight")||t.get("textStyle.fontWeight"),gridSize:g,ellipticity:s.height/s.width,minRotation:m[0]*v,maxRotation:m[1]*v,clearCanvas:!d,rotateRatio:1,rotationStep:n.get("rotationStep")*v,drawOutOfBound:n.get("drawOutOfBound"),shuffle:!1,shape:n.get("shape")}),c.addEventListener("wordclouddrawn",u),n.layoutInstance&&n.layoutInstance.dispose(),n.layoutInstance={ondraw:null,dispose:function(){c.removeEventListener("wordclouddrawn",u),c.addEventListener("wordclouddrawn",function(t){t.preventDefault()})}}})}),i.registerPreprocessor(function(t){function e(t){t&&i.util.each(r,function(e){t.hasOwnProperty(e)&&(t["text"+i.format.capitalFirst(e)]=t[e])})}var n=(t||{}).series;!i.util.isArray(n)&&(n=n?[n]:[]);var r=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];i.util.each(n,function(t){if(t&&"wordCloud"===t.type){var n=t.textStyle||{};e(n.normal),e(n.emphasis)}})})}])});